1. 인덱스 설정의 단점에 관해서 설명해주세요.

> 문진수
>
> 인덱스는 데이터를 효율적으로 조회하기 위해 사용되는 자료구조입니다. MySQL의 경우 B+Tree를 기본으로 사용하여 주어진 키 순서로 정렬하여 저장합니다. CUD 성능을 희생하고 R의 성능을 극대화하는 목적으로 사용됩니다. 서비스의 특성을 고려하여 Read, Wrtie 비율을 적절하게 따져서 인덱스를 설정하는 것이 중요합니다.

---
2. 인덱스를 통해서 회원 데이터를 조회해오려고 합니다. 
이 때, 고를 수 있는 컬럼이 성별, 회원명, 가입일이 있을 때 어떻게 인덱스를 설정하실건가요? 그 이유도 함께 설명 부탁드립니다.

> 문진수
>
> 각 칼럼들의 카디널리티, 그리고 요구사항에 있는 쿼리들의 정렬 기준, 그룹핑 등 상황마다 너무 달라질 거 같습니다. 만약 카디널리티를 따지고 본다면 (가입일, 회원명, 성별)로 인덱스를 구성할 거 같습니다.

---
3. 인덱스를 사용하지 못하는 경우에 대해서 말씀해주실 수 있으실까요?

> 문진수
>
> 조건절에 인덱스 선두 컬럼이 없는 경우 인덱스를 제대로 사용하기 어려울 수 있습니다. 인덱스 왼쪽 컬럼 기준으로 오른쪽 컬럼들이 정렬되기 때문에 선두 컬럼 조건이 존재하지 않으면 안됩니다. 또한 레코드 개수가 너무 적어서 페이지 하나에 모든 데이터가 들어간다면 Full Table Scan 실행계획이 잡힙니다. 그리고 전체 조회 비율중에 너무 많은 데이터를 가져오려고 할 때도 인덱스를 사용하지 않는 실행계획이 잡힙니다. 인덱스를 사용할 경우 실제 데이터를 가져오는 과정에서 Disk Random I/O가 발생하기 때문입니다. (대략 전체의 25%) 또한 함수를 사용하여 값을 바꾸는 경우도 인덱스를 사용할 수 없고 like절로 조회할 때 ‘%hello’와 같이 왼쪽 값을 확정할 수 없을 때는 인덱스를 활용할 수 없습니다.

---
4. 프로젝트를 진행하면서 인덱스를 설정해본 경험에 대해서 설명해주세요.

> 문진수
>
> 상품 리스트를 조회할 때 현재 입찰가 순으로 리스트를 조회해야하는 요구사항이 있었습니다. 저는 (입찰가, PK)를 multi column index로 설정하여 no-offset pagination 처리를 했습니다.

---
5. 특정 테이블에 인덱스 개수가 많을 수록 좋은 지, 적을 수록 좋은 지 의견에 관해서 말씀해주세요.

> 문진수
>
> 인덱스가 많으면 Write 성능이 안좋아집니다. 실제로 많이 사용되고 병목이 발생하는 slow query를 분석하여 인덱스를 적용하는 것이 좋습니다.

---
6. 인덱스를 설정할 때의 트레이드 오프에 관해서 설명해주세요.

> 문진수
>
> 인덱스를 사용하면 log시간에 데이터를 찾을 수 있어서 Read 속도가 빨라집니다. 하지만 반대로 Write 성능은 떨어지기 때문에 서비스의 특성에 맞추어 적절하게 인덱스를 설정하는 것이 중요합니다. 일반적인 OLPT 서비스의 경우 Read : Write = 8(9) : 2(1)이기 때문에 인덱스를 설정하면 얻는 이익이 큽니다.

---